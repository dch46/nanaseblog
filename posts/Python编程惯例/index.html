<!DOCTYPE html>
<html><head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate">
  <title>Python编程惯例 &middot; Nanase Blog</title>
  <meta name="keywords" content="书兰, inspiration, customization, rainmeter, design, web, 壁纸, 设计, 收集, wallpaper, collection, jaku, icon">
  <meta name="description" content="今日も頑張っていきましょ～">
  <meta name="author" content="Nanase">
  <link rel="icon" type="image/png" href="">
  <link rel="stylesheet" href="/css/diaspora.css">
  <link rel="stylesheet" href="/css/insight.css">
  <link rel="stylesheet" href="/css/custom.css">
</head><body class="loading">
        <div id="loading"></div>
				<div id="nav"></div>
				<div class="nav-user"></div>
    <div id="single">
    <div id="top" style="display: block;">
        <div class="bar">
        </div>
        <a class="icon-icon" href="javascript:history.back()">
        </a>
        <div title="播放/暂停" class="icon-play">
        </div>
        
        <h3 class="subtitle" style="display: none;">
        Python编程惯例</h3>
        <div class="social">
            <div>
                <div class="share">
                    <a title="获取二维码" class="icon-wechat" href="javascript:;"></a>
                </div>
                <div id="qr"></div>
            </div>
        </div>
        <div class="scrollbar" style="width: 1.1636%;"></div>
    </div>
    <div class="section">
        <div class="article">
            <div>
                <h1 class="title">
                Python编程惯例</h1>
                <div class="stuff">
                    
                    <span>June 1, 2017</span>
                    <span>字数 826</span>
                    
                    
                </div>
                <div class="content">
                    <h2 id="python编程惯例">Python编程惯例</h2>
<p>“惯例”这个词指的是“习惯的做法，常规的办法，一贯的做法”，与这个词对应的英文单词叫“idiom”。由于Python跟其他很多编程语言在语法和使用上还是有比较显著的差别，因此作为一个Python开发者如果不能掌握这些惯例，就无法写出“Pythonic”的代码。下面我们总结了一些在Python开发中的惯用的代码。</p>
<ol>
<li>
<p>让代码既可以被导入又可以被执行。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</code></pre></div></li>
<li>
<p>用下面的方式判断逻辑“真”或“假”。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#66d9ef">if</span> x:
<span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> x:
</code></pre></div><p><strong>好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;jackfrued&#39;</span>
fruits <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;apple&#39;</span>, <span style="color:#e6db74">&#39;orange&#39;</span>, <span style="color:#e6db74">&#39;grape&#39;</span>]
owners <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;1001&#39;</span>: <span style="color:#e6db74">&#39;西野七瀬&#39;</span>, <span style="color:#e6db74">&#39;1002&#39;</span>: <span style="color:#e6db74">&#39;白石麻衣&#39;</span>}
<span style="color:#66d9ef">if</span> name <span style="color:#f92672">and</span> fruits <span style="color:#f92672">and</span> owners:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;I love fruits!&#39;</span>)
</code></pre></div><p><strong>不好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;jackfrued&#39;</span>
fruits <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;apple&#39;</span>, <span style="color:#e6db74">&#39;orange&#39;</span>, <span style="color:#e6db74">&#39;grape&#39;</span>]
owners <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;1001&#39;</span>: <span style="color:#e6db74">&#39;西野七瀬&#39;</span>, <span style="color:#e6db74">&#39;1002&#39;</span>: <span style="color:#e6db74">&#39;白石麻衣&#39;</span>}
<span style="color:#66d9ef">if</span> name <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#39;&#39;</span> <span style="color:#f92672">and</span> len(fruits) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">and</span> owners <span style="color:#f92672">!=</span> {}:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;I love fruits!&#39;</span>)
</code></pre></div></li>
<li>
<p>善于使用in运算符。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python"><span style="color:#66d9ef">if</span> x <span style="color:#f92672">in</span> items: <span style="color:#75715e"># 包含</span>
<span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> items: <span style="color:#75715e"># 迭代</span>
</code></pre></div><p><strong>好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Hao LUO&#39;</span>
<span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#39;L&#39;</span> <span style="color:#f92672">in</span> name:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;The name has an L in it.&#39;</span>)
</code></pre></div><p><strong>不好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Hao LUO&#39;</span>
<span style="color:#66d9ef">if</span> name<span style="color:#f92672">.</span>find(<span style="color:#e6db74">&#39;L&#39;</span>) <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;This name has an L in it!&#39;</span>)
</code></pre></div></li>
<li>
<p>不使用临时变量交换两个值。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">a, b <span style="color:#f92672">=</span> b, a
</code></pre></div></li>
<li>
<p>用序列构建字符串。</p>
<p><strong>好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">chars <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;j&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;k&#39;</span>, <span style="color:#e6db74">&#39;f&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>, <span style="color:#e6db74">&#39;u&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>, <span style="color:#e6db74">&#39;d&#39;</span>]
name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(chars)
<span style="color:#66d9ef">print</span>(name)  <span style="color:#75715e"># jackfrued</span>
</code></pre></div><p><strong>不好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">chars <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;j&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;k&#39;</span>, <span style="color:#e6db74">&#39;f&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>, <span style="color:#e6db74">&#39;u&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>, <span style="color:#e6db74">&#39;d&#39;</span>]
name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
<span style="color:#66d9ef">for</span> char <span style="color:#f92672">in</span> chars:
    name <span style="color:#f92672">+=</span> char
<span style="color:#66d9ef">print</span>(name)  <span style="color:#75715e"># jackfrued</span>
</code></pre></div></li>
<li>
<p>EAFP优于LBYL。</p>
<p>EAFP - <strong>E</strong>asier to <strong>A</strong>sk <strong>F</strong>orgiveness than <strong>P</strong>ermission.</p>
<p>LBYL - <strong>L</strong>ook <strong>B</strong>efore <strong>Y</strong>ou <strong>L</strong>eap.</p>
<p><strong>好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;x&#39;</span>: <span style="color:#e6db74">&#39;5&#39;</span>}
<span style="color:#66d9ef">try</span>:
    value <span style="color:#f92672">=</span> int(d[<span style="color:#e6db74">&#39;x&#39;</span>])
    <span style="color:#66d9ef">print</span>(value)
<span style="color:#66d9ef">except</span> (<span style="color:#a6e22e">KeyError</span>, <span style="color:#a6e22e">TypeError</span>, <span style="color:#a6e22e">ValueError</span>):
    value <span style="color:#f92672">=</span> None
</code></pre></div><p><strong>不好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;x&#39;</span>: <span style="color:#e6db74">&#39;5&#39;</span>}
<span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#39;x&#39;</span> <span style="color:#f92672">in</span> d <span style="color:#f92672">and</span> isinstance(d[<span style="color:#e6db74">&#39;x&#39;</span>], str) \
     <span style="color:#f92672">and</span> d[<span style="color:#e6db74">&#39;x&#39;</span>]<span style="color:#f92672">.</span>isdigit():
    value <span style="color:#f92672">=</span> int(d[<span style="color:#e6db74">&#39;x&#39;</span>])
    <span style="color:#66d9ef">print</span>(value)
<span style="color:#66d9ef">else</span>:
    value <span style="color:#f92672">=</span> None
</code></pre></div></li>
<li>
<p>使用enumerate进行迭代。</p>
<p><strong>好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">fruits <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;orange&#39;</span>, <span style="color:#e6db74">&#39;grape&#39;</span>, <span style="color:#e6db74">&#39;pitaya&#39;</span>, <span style="color:#e6db74">&#39;blueberry&#39;</span>]
<span style="color:#66d9ef">for</span> index, fruit <span style="color:#f92672">in</span> enumerate(fruits):
 <span style="color:#66d9ef">print</span>(index, <span style="color:#e6db74">&#39;:&#39;</span>, fruit)
</code></pre></div><p><strong>不好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">fruits <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;orange&#39;</span>, <span style="color:#e6db74">&#39;grape&#39;</span>, <span style="color:#e6db74">&#39;pitaya&#39;</span>, <span style="color:#e6db74">&#39;blueberry&#39;</span>]
index <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">for</span> fruit <span style="color:#f92672">in</span> fruits:
    <span style="color:#66d9ef">print</span>(index, <span style="color:#e6db74">&#39;:&#39;</span>, fruit)
    index <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</code></pre></div></li>
<li>
<p>用生成式生成列表。</p>
<p><strong>好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">data <span style="color:#f92672">=</span> [<span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">11</span>]
result <span style="color:#f92672">=</span> [num <span style="color:#f92672">*</span> <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">for</span> num <span style="color:#f92672">in</span> data <span style="color:#66d9ef">if</span> num <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">10</span>]
<span style="color:#66d9ef">print</span>(result)  <span style="color:#75715e"># [60, 45, 33]</span>
</code></pre></div><p><strong>不好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">data <span style="color:#f92672">=</span> [<span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">11</span>]
result <span style="color:#f92672">=</span> []
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> data:
    <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">10</span>:
        result<span style="color:#f92672">.</span>append(i <span style="color:#f92672">*</span> <span style="color:#ae81ff">3</span>)
<span style="color:#66d9ef">print</span>(result)  <span style="color:#75715e"># [60, 45, 33]</span>
</code></pre></div></li>
<li>
<p>用zip组合键和值来创建字典。</p>
<p><strong>好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">keys <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;1001&#39;</span>, <span style="color:#e6db74">&#39;1002&#39;</span>, <span style="color:#e6db74">&#39;1003&#39;</span>]
values <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;西野七瀬&#39;</span>, <span style="color:#e6db74">&#39;白石麻衣&#39;</span>, <span style="color:#e6db74">&#39;斋藤飞鸟&#39;</span>]
d <span style="color:#f92672">=</span> dict(zip(keys, values))
<span style="color:#66d9ef">print</span>(d)
</code></pre></div><p><strong>不好</strong>的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Python" data-lang="Python">keys <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;1001&#39;</span>, <span style="color:#e6db74">&#39;1002&#39;</span>, <span style="color:#e6db74">&#39;1003&#39;</span>]
values <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;西野七瀬&#39;</span>, <span style="color:#e6db74">&#39;白石麻衣&#39;</span>, <span style="color:#e6db74">&#39;斋藤飞鸟&#39;</span>]
d <span style="color:#f92672">=</span> {}
<span style="color:#66d9ef">for</span> i, key <span style="color:#f92672">in</span> enumerate(keys):
    d[key] <span style="color:#f92672">=</span> values[i]
<span style="color:#66d9ef">print</span>(d)
</code></pre></div></li>
</ol>

                    
                    <audio id="audio" loop="1" preload="auto" style="width: 100%;" controls="controls" autoplay>
                        <source type="audio/mpeg" src="/mp3/%e3%82%b7%e3%83%b3%e3%82%af%e3%83%ad%e3%83%8b%e3%82%b7%e3%83%86%e3%82%a3.mp3">
                        <a href="/mp3/%e3%82%b7%e3%83%b3%e3%82%af%e3%83%ad%e3%83%8b%e3%82%b7%e3%83%86%e3%82%a3.mp3">/mp3/シンクロニシティ.mp3</a>
                    </audio>
                </div>
                <div class="comment-wrap">

                </div>
            </div>
        </div>
    </div>
    <div class="relate">
        <ul>
            <h3 id="prev_next">
                <em>相 关 文 章</em>
                <span>
                    <a href="javascript: window.scrollTo(0, 0);">
                    返回顶部</a>
                    
                        <a href="http://www.nishinonanase.xyz/posts/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2%E4%B8%8A%E7%BA%BF%E6%8C%87%E5%8D%97/" rel="prev">上一篇</a>
                    
                    
                        <a href="http://www.nishinonanase.xyz/posts/%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%92%8C%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/" rel="next">下一篇</a>
                    
                </span>
            </h3>
            
            
            
        </ul>
    </div>
</div>
<script>
    window.onload = function() {
        var audio = document.getElementById('audio');
        audio.play();
    }
</script>
<p style="text-align: center;">
  <a style="color: inherit" target="_blank" href="https://github.com/honjun/hugo-theme-diaspora"></a>
</p>

<script>
  var siteTitle = "Nanase Blog";
</script>
<script src="/js/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<script src="/js/custom.js"></script>
<script src="/js/InsightSearch.js"></script>
</body>
</html>

